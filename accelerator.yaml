accelerator:
  displayName: ML Platform Starter
  description: Wizard for configuring the components of an MLOps platform on TAP. Here, you can autogenerate the configuration that you need for one or more platforms that are essential for your ML environment. Use it to build Data Sources platforms, Data Preprocessing platforms, ML Training platforms, ML Governance platforms, ML Observability platforms, ML Deployment & Serving platforms, and ML Notebook & Experimentation platforms.
  iconUrl: https://cdn-icons-png.flaticon.com/512/7364/7364323.png
  tags:
    - "ML"
    - "AI"
    - "machinelearning"
    - "datascience"
    - "MLOps"
    - "artificialintelligence"
    - "pipeline"
    - "GitOps"
    - "platform"
#  imports:
#    - name: airflow-fragment
  options:
    - name: datasource
      dataType: boolean
      inputType: checkbox
      label: 'Data Sources Platform'

    - name: dataprocess
      dataType: boolean
      inputType: checkbox
      label: 'Data Preprocessing Platform'

    - name: training
      dataType: boolean
      inputType: checkbox
      label: 'ML Training Platform'

    - name: governance
      dataType: boolean
      inputType: checkbox
      label: 'ML Governance Platform'

    - name: observability
      dataType: boolean
      inputType: checkbox
      label: 'ML Observability Platform'

    - name: serving
      dataType: boolean
      inputType: checkbox
      label: 'ML Deployment and Serving Platform'

    - name: notebook
      dataType: boolean
      inputType: checkbox
      label: 'ML Notebook and Experimentation Platform'


    - name: POSTGRES
      inputType: radio
      display: true
      choices:
        - text: 'Postgres (Data Sources / Data Preprocessing)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: datasource
        value: true
    - name: postgresAuthUsername
      inputType: text
      display: true
      label: 'postgresAuth.username'
      defaultValue: 'pgadmin'
      dependsOn:
        name: POSTGRES
        value: selected
    - name: postgresAuthPassword
      inputType: text
      display: true
      label: 'postgresAuth.password'
      defaultValue: 'changeme'
      dependsOn:
        name: POSTGRES
        value: selected


    - name: AIRFLOW
      inputType: radio
      display: true
      choices:
        - text: 'Airflow (Data Preprocessing / ML Training)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: dataprocess
        value: true
    - name: airflowAuthUsername
      inputType: text
      display: true
      label: 'airflowAuth.username'
      defaultValue: 'admin'
      dependsOn:
        name: AIRFLOW
        value: selected
    - name: airflowAuthPassword
      inputType: text
      display: true
      label: 'airflowAuth.password'
      defaultValue: 'admin'
      dependsOn:
        name: AIRFLOW
        value: selected


    - name: MLFLOW
      inputType: radio
      display: true
      choices:
        - text: 'MLflow (ML Training)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: training
        value: true
    - name: mlflowAuthUsername
      inputType: text
      display: true
      label: 'mlflowAuth.username'
      defaultValue: 'admin'
      dependsOn:
        name: MLFLOW
        value: selected
    - name: mlflowAuthPassword
      inputType: text
      display: true
      label: 'mlflowAuth.password'
      defaultValue: 'admin'
      dependsOn:
        name: MLFLOW
        value: selected


    - name: DATAHUB
      inputType: radio
      display: true
      choices:
        - text: 'Datahub (Data / ML Governance)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: governance
        value: true
    - name: datahubAuthUsername
      inputType: text
      display: true
      label: 'datahubAuth.username'
      defaultValue: 'admin'
      dependsOn:
        name: DATAHUB
        value: selected
    - name: datahubAuthPassword
      inputType: text
      display: true
      label: 'datahubAuth.password'
      defaultValue: 'admin'
      dependsOn:
        name: DATAHUB
        value: selected


    - name: EVIDENTLY
      inputType: radio
      display: true
      choices:
        - text: 'Evidently (ML Monitoring & Observability)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: observability
        value: true
    - name: evidentlyAuthUsername
      inputType: text
      display: true
      label: 'evidentlyAuth.username'
      defaultValue: 'admin'
      dependsOn:
        name: EVIDENTLY
        value: selected
    - name: evidentlyAuthPassword
      inputType: text
      display: true
      label: 'evidentlyAuth.password'
      defaultValue: 'admin'
      dependsOn:
        name: EVIDENTLY
        value: selected


    - name: ARGOCD
      inputType: radio
      display: true
      choices:
        - text: 'Argo CD (ML / App Deployment)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: serving
        value: true
    - name: argocdAuthUsername
      inputType: text
      display: true
      label: 'argocdAuth.username'
      defaultValue: 'admin'
      dependsOn:
        name: ARGOCD
        value: selected
    - name: argocdAuthPassword
      inputType: text
      display: true
      label: 'argocdAuth.password'
      defaultValue: 'admin'
      dependsOn:
        name: ARGOCD
        value: selected

    - name: JUPYTER
      inputType: radio
      display: true
      choices:
        - text: 'Jupyter (ML Notebooks & Experimentation)'
          value: selected
      defaultValue: selected
      dependsOn:
        name: notebook
        value: true

    - name: jupyterAuthUsername
      inputType: text
      display: true
      label: 'jupyterAuth.username'
      defaultValue: 'admin'
      dependsOn:
        name: JUPYTER
        value: selected
    - name: jupyterAuthPassword
      inputType: text
      display: true
      label: 'jupyterAuth.password'
      defaultValue: 'admin'
      dependsOn:
        name: JUPYTER
        value: selected


engine:
  type: Merge
  sources:
    - type: Chain
      transformations:
        - type: Include
          patterns: [ 'resources/values-overrides.yaml' ]
